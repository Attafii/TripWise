<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns:fx="http://javafx.com/fxml" fx:controller="ui.controllers.BookHotelNewController"
      spacing="25" stylesheets="@style.css" style="-fx-background-color: #f9fafb;">
    <padding>
        <Insets top="25" right="30" bottom="25" left="30" />
    </padding>

    <!-- Header with Back Button -->
    <HBox spacing="15" alignment="CENTER_LEFT">
        <Button text="â† Back to Bookings" onAction="#handleBackToBookings"
               style="-fx-background-color: white; -fx-text-fill: #3b82f6; -fx-border-color: #3b82f6; -fx-border-width: 1.5; -fx-background-radius: 8; -fx-padding: 8 16; -fx-font-weight: 600; -fx-cursor: hand;" />
        <VBox spacing="5" HBox.hgrow="ALWAYS">
            <Label text="Book a Hotel" style="-fx-font-size: 26px; -fx-font-weight: bold; -fx-text-fill: #111827;" />
            <Label text="Find and book the perfect accommodation" style="-fx-font-size: 14px; -fx-text-fill: #6b7280;" />
        </VBox>
    </HBox>

    <!-- Search Form -->
    <HBox spacing="15" alignment="CENTER_LEFT" style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 25; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.06), 10, 0, 0, 2);">
        <!-- Destination -->
        <VBox spacing="8" HBox.hgrow="SOMETIMES">
            <Label text="Destination" style="-fx-font-size: 13px; -fx-font-weight: 600; -fx-text-fill: #374151;" />
            <HBox spacing="8" alignment="CENTER_LEFT" style="-fx-background-color: #f9fafb; -fx-background-radius: 8; -fx-padding: 10 12;">
                <Label text="ðŸ“" style="-fx-font-size: 16px;" />
                <TextField fx:id="destinationField" promptText="Los Angeles, CA"
                          style="-fx-background-color: transparent; -fx-border-color: transparent; -fx-font-size: 14px;"
                          HBox.hgrow="ALWAYS" />
            </HBox>
        </VBox>

        <!-- Check-in -->
        <VBox spacing="8" HBox.hgrow="SOMETIMES">
            <Label text="Check-in" style="-fx-font-size: 13px; -fx-font-weight: 600; -fx-text-fill: #374151;" />
            <HBox spacing="8" alignment="CENTER_LEFT" style="-fx-background-color: #f9fafb; -fx-background-radius: 8; -fx-padding: 10 12;">
                <Label text="ðŸ“…" style="-fx-font-size: 16px;" />
                <DatePicker fx:id="checkInPicker"
                          style="-fx-background-color: transparent; -fx-border-color: transparent;"
                          HBox.hgrow="ALWAYS" />
            </HBox>
        </VBox>

        <!-- Check-out -->
        <VBox spacing="8" HBox.hgrow="SOMETIMES">
            <Label text="Check-out" style="-fx-font-size: 13px; -fx-font-weight: 600; -fx-text-fill: #374151;" />
            <HBox spacing="8" alignment="CENTER_LEFT" style="-fx-background-color: #f9fafb; -fx-background-radius: 8; -fx-padding: 10 12;">
                <Label text="ðŸ“…" style="-fx-font-size: 16px;" />
                <DatePicker fx:id="checkOutPicker"
                          style="-fx-background-color: transparent; -fx-border-color: transparent;"
                          HBox.hgrow="ALWAYS" />
            </HBox>
        </VBox>

        <!-- Guests -->
        <VBox spacing="8">
            <Label text="Guests" style="-fx-font-size: 13px; -fx-font-weight: 600; -fx-text-fill: #374151;" />
            <HBox spacing="8" alignment="CENTER_LEFT" style="-fx-background-color: #f9fafb; -fx-background-radius: 8; -fx-padding: 10 12;">
                <Label text="ðŸ‘¥" style="-fx-font-size: 16px;" />
                <Spinner fx:id="guestsSpinner" prefWidth="80"
                        style="-fx-background-color: transparent;" />
            </HBox>
        </VBox>

        <!-- Rooms -->
        <VBox spacing="8">
            <Label text="Rooms" style="-fx-font-size: 13px; -fx-font-weight: 600; -fx-text-fill: #374151;" />
            <HBox spacing="8" alignment="CENTER_LEFT" style="-fx-background-color: #f9fafb; -fx-background-radius: 8; -fx-padding: 10 12;">
                <Label text="ðŸ›ï¸" style="-fx-font-size: 16px;" />
                <Spinner fx:id="roomsSpinner" prefWidth="60"
                        style="-fx-background-color: transparent;" />
            </HBox>
        </VBox>

        <!-- Search Button -->
        <VBox spacing="8" alignment="BOTTOM_LEFT">
            <Label text=" " />
            <Button fx:id="searchButton" text="ðŸ” Search Hotels" onAction="#handleSearch"
                   style="-fx-background-color: #3b82f6; -fx-text-fill: white; -fx-background-radius: 8; -fx-padding: 12 30; -fx-font-weight: bold; -fx-font-size: 14px; -fx-cursor: hand;" />
        </VBox>
    </HBox>

    <!-- Results Header -->
    <HBox spacing="15" alignment="CENTER_LEFT">
        <Label fx:id="resultCountLabel" text="Available Hotels"
              style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #111827;" />
        <Region HBox.hgrow="ALWAYS" />
        <HBox spacing="10" alignment="CENTER_RIGHT">
            <Button text="ðŸ”ƒ Filters" style="-fx-background-color: white; -fx-border-color: #e5e7eb; -fx-border-radius: 6; -fx-padding: 8 16; -fx-cursor: hand;" />
        </HBox>
    </HBox>

    <!-- Hotels Container (Scrollable) -->
    <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS"
               style="-fx-background-color: transparent; -fx-border-color: transparent;">
        <VBox fx:id="hotelsContainer" spacing="0" style="-fx-background-color: transparent;" />
    </ScrollPane>
</VBox>
